# Как посмотреть логи и диагностировать проблему с Nova

## Где посмотреть логи в Railway

### Способ 1: Логи деплоя (Deployments)

1. **Railway → ваш проект**
2. **Откройте Laravel сервис**
3. **Вкладка "Deployments"**
4. **Откройте последний деплой** (самый верхний)
5. **Просмотрите логи** - прокрутите вниз

### Способ 2: Логи приложения (Metrics/Logs)

1. **Railway → ваш проект**
2. **Откройте Laravel сервис**
3. **Вкладка "Metrics" или "Logs"**
4. **Просмотрите логи** работающего приложения

## Что искать в логах деплоя

### ✅ Если Nova устанавливается:

Ищите эти строки:
```
Installing laravel/nova (5.7.6)
Publishing Nova Assets / Resources
Publishing Nova Service Provider
Generating User Resource
Nova scaffolding installed successfully.
```

**Если видите эти строки:**
- ✅ Nova установилась успешно
- ✅ Проблема не в установке
- ❓ Нужно проверить регистрацию маршрутов

### ❌ Если есть ошибки:

**Ошибка аутентификации:**
```
[RuntimeException] Missing or incorrect username / password combination
```
→ Проблема с `COMPOSER_AUTH`

**Ошибка установки:**
```
Package laravel/nova not found
```
→ Nova не установилась

**Ошибка при публикации:**
```
Publishing Nova Assets ... FAIL
```
→ Проблема при публикации ресурсов

## Что искать в логах приложения

### Когда открываете `/nova` в браузере:

1. **Откройте Metrics/Logs в Railway**
2. **Откройте `/nova` в браузере**
3. **Смотрите логи в реальном времени**

### Ошибки, которые могут быть:

**404 NOT FOUND:**
```
GET /nova 404
```
→ Маршруты Nova не зарегистрированы

**Ошибка маршрутов:**
```
Route [nova.login] not defined
```
→ Маршруты не зарегистрированы

**Ошибка провайдеров:**
```
Class 'Laravel\Nova\Nova' not found
```
→ Nova не установлена или проблема с autoload

**Ошибка Gate:**
```
403 Forbidden
```
→ Gate блокирует доступ (но это не 404!)

## Диагностика проблемы 404

### Шаг 1: Проверьте установку Nova

В логах деплоя ищите:
- ✅ `Installing laravel/nova` - Nova устанавливается
- ✅ `Nova scaffolding installed successfully` - Установка завершена

**Если этого нет:**
- Nova не установилась
- Проверьте `COMPOSER_AUTH` в Railway Variables

### Шаг 2: Проверьте регистрацию маршрутов

В логах приложения при обращении к `/nova` ищите:
- ❌ `GET /nova 404` - Маршруты не зарегистрированы
- ✅ Редирект на `/nova/login` - Маршруты работают!

### Шаг 3: Проверьте ошибки

Ищите в логах:
- Ошибки при загрузке провайдеров
- Ошибки при регистрации маршрутов
- Ошибки с классами Nova

## Что скопировать из логов

### Для диагностики нужно:

1. **Из логов деплоя:**
   - Есть ли "Installing laravel/nova"?
   - Есть ли "Nova scaffolding installed successfully"?
   - Какие ошибки есть?

2. **Из логов приложения:**
   - Что происходит при обращении к `/nova`?
   - Какие ошибки появляются?
   - Есть ли упоминания о маршрутах Nova?

## Быстрая проверка

### Проверка 1: Установлена ли Nova?

В логах деплоя ищите:
```
Installing laravel/nova (5.7.6)
```

**Если нет:**
- Проверьте `COMPOSER_AUTH` в Railway Variables
- Проверьте Build Command

### Проверка 2: Зарегистрированы ли маршруты?

Откройте `/nova` и смотрите логи приложения:
- 404 → Маршруты не зарегистрированы
- Страница входа → Все работает! ✅

### Проверка 3: Есть ли ошибки?

В логах ищите:
- `Class 'Laravel\Nova\Nova' not found` → Nova не установлена
- `Route [nova.login] not defined` → Маршруты не зарегистрированы
- Ошибки подключения к БД → Проблема с переменными БД

## После просмотра логов

**Скопируйте из логов:**
1. Есть ли "Installing laravel/nova"?
2. Есть ли "Nova scaffolding installed successfully"?
3. Что происходит при обращении к `/nova`?
4. Какие ошибки есть?

**Пришлите мне:**
- Фрагменты логов деплоя (особенно про установку Nova)
- Фрагменты логов приложения (при обращении к `/nova`)
- Любые ошибки, которые видите

## Резюме

**Где смотреть:**
1. **Deployments** → последний деплой → логи деплоя
2. **Metrics/Logs** → логи приложения

**Что искать:**
- Установка Nova
- Ошибки при установке
- Ошибки при обращении к `/nova`

**После просмотра:**
- Определите проблему
- Скопируйте фрагменты логов
- Пришлите мне для диагностики

