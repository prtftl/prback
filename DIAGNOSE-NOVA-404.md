# Диагностика проблемы 404 для Nova

## Проверено: Путь к Nova не изменен

✅ В `config/nova.php` путь установлен как `/nova`  
✅ В коде нет вызовов `Nova::path()`  
✅ Путь не изменен на другой (например, `admin-panel`)

## Проблема: 404 означает, что маршруты не зарегистрированы

404 NOT FOUND означает, что Laravel не находит маршрут `/nova`. Это может быть из-за:

1. **Nova не установлена на сервере**
2. **Маршруты Nova не зарегистрировались**
3. **NovaServiceProvider не загружается**

## Как посмотреть логи в Railway

### Шаг 1: Логи деплоя

1. Railway → ваш проект
2. Откройте **Laravel сервис**
3. Вкладка **"Deployments"**
4. Откройте **последний деплой** (самый верхний)
5. Просмотрите логи - прокрутите вниз

### Шаг 2: Логи приложения

1. Railway → ваш проект
2. Откройте **Laravel сервис**
3. Вкладка **"Metrics"** или **"Logs"**
4. Просмотрите логи работающего приложения

## Что искать в логах деплоя

### ✅ Если Nova устанавливается:

Ищите эти строки:
```
Installing laravel/nova (5.7.6)
Publishing Nova Assets / Resources
Publishing Nova Service Provider
Generating User Resource
Nova scaffolding installed successfully.
```

**Если видите эти строки:**
- ✅ Nova установилась успешно
- ✅ Проблема не в установке
- ❓ Нужно проверить регистрацию маршрутов

### ❌ Если есть ошибки:

**Ошибка аутентификации:**
```
[RuntimeException] Missing or incorrect username / password combination
```
→ Проблема с `COMPOSER_AUTH`

**Ошибка установки:**
```
Package laravel/nova not found
```
→ Nova не установилась

## Что искать в логах приложения

### Когда открываете `/nova` в браузере:

1. Откройте **Metrics/Logs** в Railway
2. Откройте `/nova` в браузере
3. Смотрите логи в реальном времени

### Ошибки, которые могут быть:

**404 NOT FOUND:**
```
GET /nova 404
```
→ Маршруты Nova не зарегистрированы

**Ошибка маршрутов:**
```
Route [nova.login] not defined
```
→ Маршруты не зарегистрированы

**Ошибка провайдеров:**
```
Class 'Laravel\Nova\Nova' not found
```
→ Nova не установлена или проблема с autoload

## Диагностика по шагам

### Шаг 1: Проверьте установку Nova

В логах деплоя ищите:
- ✅ `Installing laravel/nova (5.7.6)` - Nova устанавливается
- ✅ `Nova scaffolding installed successfully` - Установка завершена

**Если этого нет:**
- Nova не установилась
- Проверьте `COMPOSER_AUTH` в Railway Variables

### Шаг 2: Проверьте регистрацию маршрутов

В логах приложения при обращении к `/nova` ищите:
- ❌ `GET /nova 404` - Маршруты не зарегистрированы
- ✅ Редирект на `/nova/login` - Маршруты работают!

### Шаг 3: Проверьте переменные окружения

Railway → Laravel сервис → Variables:

**Обязательно должны быть:**
- `COMPOSER_AUTH` - для установки Nova
- `DB_CONNECTION=mysql` - для подключения к БД
- `DB_URL` - строка подключения к MySQL

## Что скопировать из логов

### Для диагностики нужно:

1. **Из логов деплоя:**
   - Есть ли "Installing laravel/nova"?
   - Есть ли "Nova scaffolding installed successfully"?
   - Какие ошибки есть?

2. **Из логов приложения:**
   - Что происходит при обращении к `/nova`?
   - Какие ошибки появляются?
   - Есть ли упоминания о маршрутах Nova?

## Возможные решения

### Если Nova не установилась:

1. Проверьте `COMPOSER_AUTH` в Railway Variables
2. Проверьте Build Command
3. Запустите новый деплой

### Если Nova установилась, но маршрутов нет:

1. Проверьте логи приложения на ошибки
2. Проверьте, что `NovaServiceProvider` загружается
3. Очистите кеш (если возможно)

### Если есть ошибки в логах:

1. Скопируйте ошибку
2. Найдите решение в документации
3. Или сообщите мне - помогу исправить

## Резюме

**Где смотреть логи:**
1. **Deployments** → последний деплой → логи деплоя
2. **Metrics/Logs** → логи приложения

**Что искать:**
- Установка Nova
- Ошибки при установке
- Ошибки при обращении к `/nova`

**После просмотра:**
- Определите проблему
- Скопируйте фрагменты логов
- Пришлите мне для диагностики

